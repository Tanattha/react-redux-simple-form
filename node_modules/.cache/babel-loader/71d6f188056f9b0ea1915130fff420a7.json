{"ast":null,"code":"import { ADD_TO_LIST, CLEAR_LIST } from \"../actions/types\";\nimport produce from 'immer';\nimport store from \"../store\"; // export const formReducers = (\n//   state = { userList: JSON.parse(localStorage.getItem(\"userList\") || \"[]\") },\n//   action\n// ) => {\n//   switch (action.type) {\n//     case ADD_TO_LIST:\n//       return { userList: action.payload.userList };\n//     case CLEAR_LIST:\n//       return { userList: action.payload.userList};\n//     default:\n//       return state;\n//   }\n// };\n\nexport var formReducers = produce((draft, action) => {\n  var storage = localStorage.getItem('userList') || [];\n  var type = action.type,\n      payload = action.payload;\n\n  switch (type) {\n    case ADD_TO_LIST:\n      {\n        var user = payload.user;\n        var newUser = {\n          name: user.name,\n          email: user.email\n        };\n        console.log(newUser);\n        draft.push(newUser);\n        localStorage.setItem(\"userList\", JSON.stringify(draft));\n        console.log(draft);\n        return draft;\n      }\n\n    case CLEAR_LIST:\n      {\n        draft = [];\n        localStorage.setItem(\"userList\", JSON.stringify(draft));\n        return draft;\n      }\n\n    default:\n      {\n        return draft;\n      }\n  }\n});","map":{"version":3,"sources":["/Users/Tanattha/Downloads/1psge/src/reducers/formReducer.js"],"names":["ADD_TO_LIST","CLEAR_LIST","produce","store","formReducers","draft","action","storage","localStorage","getItem","type","payload","user","newUser","name","email","console","log","push","setItem","JSON","stringify"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,UAAtB,QAAwC,kBAAxC;AACA,OAAOC,OAAP,MAAoB,OAApB;AACA,OAAOC,KAAP,MAAkB,UAAlB,C,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA,OAAO,IAAMC,YAAY,GAAGF,OAAO,CAAC,CAACG,KAAD,EAAQC,MAAR,KAAmB;AAGtD,MAAIC,OAAO,GAAGC,YAAY,CAACC,OAAb,CAAqB,UAArB,KAAoC,EAAlD;AAHsD,MAK7CC,IAL6C,GAK3BJ,MAL2B,CAK7CI,IAL6C;AAAA,MAKvCC,OALuC,GAK3BL,MAL2B,CAKvCK,OALuC;;AAMrD,UAAQD,IAAR;AACE,SAAKV,WAAL;AAAkB;AAAA,YACRY,IADQ,GACCD,OADD,CACRC,IADQ;AAGjB,YAAIC,OAAO,GAAG;AAChBC,UAAAA,IAAI,EAAEF,IAAI,CAACE,IADK;AAEhBC,UAAAA,KAAK,EAAEH,IAAI,CAACG;AAFI,SAAd;AAIDC,QAAAA,OAAO,CAACC,GAAR,CAAYJ,OAAZ;AACAR,QAAAA,KAAK,CAACa,IAAN,CAAWL,OAAX;AACAL,QAAAA,YAAY,CAACW,OAAb,CAAqB,UAArB,EAAiCC,IAAI,CAACC,SAAL,CAAehB,KAAf,CAAjC;AACEW,QAAAA,OAAO,CAACC,GAAR,CAAYZ,KAAZ;AACA,eAAOA,KAAP;AACD;;AACD,SAAKJ,UAAL;AAAiB;AACfI,QAAAA,KAAK,GAAG,EAAR;AACAG,QAAAA,YAAY,CAACW,OAAb,CAAqB,UAArB,EAAiCC,IAAI,CAACC,SAAL,CAAehB,KAAf,CAAjC;AACA,eAAOA,KAAP;AACD;;AACD;AAAS;AACP,eAAOA,KAAP;AACD;AArBH;AAuBD,CA7BkC,CAA5B","sourcesContent":["import { ADD_TO_LIST, CLEAR_LIST } from \"../actions/types\";\nimport produce from 'immer'\nimport store from \"../store\";\n\n// export const formReducers = (\n//   state = { userList: JSON.parse(localStorage.getItem(\"userList\") || \"[]\") },\n//   action\n// ) => {\n//   switch (action.type) {\n//     case ADD_TO_LIST:\n//       return { userList: action.payload.userList };\n//     case CLEAR_LIST:\n//       return { userList: action.payload.userList};\n//     default:\n//       return state;\n//   }\n// };\n\n\nexport const formReducers = produce((draft, action) => {\n\n\n let storage = localStorage.getItem('userList') || [];\n  \n  const { type, payload } = action;\n  switch (type) {\n    case ADD_TO_LIST: {\n      const { user } = payload;\n    \n     let newUser = {\n\t\t\tname: user.name,\n\t\t\temail: user.email\n    };\n    console.log(newUser)\n    draft.push(newUser);\n    localStorage.setItem(\"userList\", JSON.stringify(draft));\n      console.log(draft)\n      return draft;\n    }\n    case CLEAR_LIST: {\n      draft = [];\n      localStorage.setItem(\"userList\", JSON.stringify(draft));\n      return draft;\n    }\n    default: {\n      return draft;\n    }\n  }\n});"]},"metadata":{},"sourceType":"module"}