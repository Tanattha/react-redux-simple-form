{"ast":null,"code":"import { ADD_TO_LIST, CLEAR_LIST } from \"../actions/types\";\nimport produce from \"immer\"; //import store from \"../store\";\n//let userList = store.getState().form.userList;\n// export const formReducers = ( state = initialState, action ) => {\n//   console.log(action.payload)\n//   switch (action.type) {\n//     case ADD_TO_LIST:\n//       return { userList: action.payload.userList };\n//     case CLEAR_LIST:\n//       if (initialState === \"[]\"){\n//       return { userList: action.payload.userList };\n//       }\n//       break;\n//     default:\n//       return state;\n//   }\n// };\n//state = {cartItems: JSON.parse(localStorage.getItem(\"cartItems\") || \"[]\") },action) => {\n\nexport var formReducers = (state = {\n  userList: JSON.parse(localStorage.getItem(\"userList\") || \"[]\")\n}, action) => {\n  console.log(action.payload);\n  var getLocalstorage = state.userList;\n  console.log(getLocalstorage);\n\n  switch (action.type) {\n    case ADD_TO_LIST:\n      //return { userList: action.payload.userList };\n      return produce(getLocalstorage, draft => {\n        console.log(getLocalstorage);\n        console.log(draft);\n        draft.push({\n          name: action.payload.name,\n          email: action.payload.email\n        });\n        return draft;\n      });\n\n    case CLEAR_LIST:\n      return produce(state, draft => {\n        draft = [];\n        return draft;\n      });\n\n    default:\n      return state;\n  }\n}; // export const formReducers = produce((draft = [], action) => {\n//   const { type, payload } = action;\n//   switch (type) {\n//     case ADD_TO_LIST: {\n//       const { value } = payload;\n//       draft.push(value);\n//       return draft;\n//     }\n//     case CLEAR_LIST:\n//       draft = [];\n//      return draft;\n//     default: {\n//       return draft;\n//     }\n//   }\n// });","map":{"version":3,"sources":["/Users/Tanattha/Downloads/1psge/src/reducers/formReducer.js"],"names":["ADD_TO_LIST","CLEAR_LIST","produce","formReducers","state","userList","JSON","parse","localStorage","getItem","action","console","log","payload","getLocalstorage","type","draft","push","name","email"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,UAAtB,QAAwC,kBAAxC;AACA,OAAOC,OAAP,MAAoB,OAApB,C,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,IAAMC,YAAY,GAAG,CAAEC,KAAK,GAAG;AAACC,EAAAA,QAAQ,EAAEC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,KAAoC,IAA/C;AAAX,CAAV,EAA6EC,MAA7E,KAAyF;AAGnHC,EAAAA,OAAO,CAACC,GAAR,CAAYF,MAAM,CAACG,OAAnB;AAEA,MAAMC,eAAe,GAAGV,KAAK,CAACC,QAA9B;AACAM,EAAAA,OAAO,CAACC,GAAR,CAAYE,eAAZ;;AACA,UAAQJ,MAAM,CAACK,IAAf;AACE,SAAKf,WAAL;AACE;AACA,aAAOE,OAAO,CAACY,eAAD,EAAkBE,KAAK,IAAI;AACvCL,QAAAA,OAAO,CAACC,GAAR,CAAYE,eAAZ;AACAH,QAAAA,OAAO,CAACC,GAAR,CAAYI,KAAZ;AACAA,QAAAA,KAAK,CAACC,IAAN,CAAW;AAACC,UAAAA,IAAI,EAAER,MAAM,CAACG,OAAP,CAAeK,IAAtB;AAA4BC,UAAAA,KAAK,EAAET,MAAM,CAACG,OAAP,CAAeM;AAAlD,SAAX;AACA,eAAOH,KAAP;AACD,OALa,CAAd;;AAMF,SAAKf,UAAL;AAEE,aAAOC,OAAO,CAACE,KAAD,EAAQY,KAAK,IAAI;AAC7BA,QAAAA,KAAK,GAAG,EAAR;AACA,eAAOA,KAAP;AACD,OAHa,CAAd;;AAKF;AACE,aAAOZ,KAAP;AAjBJ;AAmBD,CA1BM,C,CA6BP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import { ADD_TO_LIST, CLEAR_LIST } from \"../actions/types\";\nimport produce from \"immer\";\n//import store from \"../store\";\n//let userList = store.getState().form.userList;\n// export const formReducers = ( state = initialState, action ) => {\n//   console.log(action.payload)\n//   switch (action.type) {\n//     case ADD_TO_LIST:\n//       return { userList: action.payload.userList };\n//     case CLEAR_LIST:\n//       if (initialState === \"[]\"){\n//       return { userList: action.payload.userList };\n//       }\n//       break;\n//     default:\n//       return state;\n//   }\n// };\n//state = {cartItems: JSON.parse(localStorage.getItem(\"cartItems\") || \"[]\") },action) => {\n\nexport const formReducers = ( state = {userList: JSON.parse(localStorage.getItem(\"userList\") || \"[]\") }, action ) => {\n \n  \n  console.log(action.payload)\n  \n  const getLocalstorage = state.userList;\n  console.log(getLocalstorage)\n  switch (action.type) {\n    case ADD_TO_LIST:\n      //return { userList: action.payload.userList };\n      return produce(getLocalstorage, draft => {\n        console.log(getLocalstorage)\n        console.log(draft)\n        draft.push({name: action.payload.name, email: action.payload.email});\n        return draft;\n      })\n    case CLEAR_LIST:\n      \n      return produce(state, draft => {\n        draft = [];\n        return draft;\n      })\n\n    default:\n      return state;\n  }\n};\n\n\n// export const formReducers = produce((draft = [], action) => {\n//   const { type, payload } = action;\n//   switch (type) {\n//     case ADD_TO_LIST: {\n//       const { value } = payload;\n//       draft.push(value);\n//       return draft;\n//     }\n//     case CLEAR_LIST:\n//       draft = [];\n//      return draft;\n//     default: {\n//       return draft;\n//     }\n//   }\n// });"]},"metadata":{},"sourceType":"module"}